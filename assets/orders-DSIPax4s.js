import{R as y,ae as V,G as g,c as h,Y as n,a0 as v,X as r,L as o,ax as i,aj as l,_ as x,W as u,$ as b,O as w,an as A}from"./index-Cpz43kHv.js";import{b as p}from"./route-block-B_A1xBdJ.js";import{V as m,a as D}from"./VRow-CQGUY1bV.js";import{V as B}from"./VDataTable-VaiE7NLN.js";import{V as O}from"./VContainer-TyyObbe_.js";import"./VPagination-d5yUPPHX.js";import"./VList-6AqYnrn2.js";import"./VMenu-kkW7sMFT.js";const C={class:"text-center"},L={__name:"orders",setup(S){const{apiAuth:_}=A(),{t:s}=y(),f=V(),d=g([]),k=h(()=>[{title:"ID",key:"_id"},{title:s("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:s("order.cart"),key:"cart"},{title:s("order.price"),key:"price",value:t=>t.cart.reduce((a,e)=>a+e.product.price*e.quantity,0)}]);return(async()=>{var t,a;try{const{data:e}=await _.get("/order");d.value=e.result}catch(e){console.log(e),f({text:s("api."+(((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"unknownError from getOrders")),snackbarProps:{color:"red"}})}})(),(t,a)=>(n(),v(O,null,{default:r(()=>[o(D,null,{default:r(()=>[o(m,{cols:"12"},{default:r(()=>[i("h1",C,l(t.$t("nav.orders")),1)]),_:1}),o(x),o(m,{cols:"12"},{default:r(()=>[o(B,{data:d.value,headers:k.value},{"item.cart":r(e=>[i("ul",null,[(n(!0),u(w,null,b(e.item.cart,c=>(n(),u("li",{key:c._id},l(c.product.name)+" x "+l(c.quantity),1))),128))])]),_:2},1032,["data","headers"])]),_:1})]),_:1})]),_:1}))}};typeof p=="function"&&p(L);export{L as default};
